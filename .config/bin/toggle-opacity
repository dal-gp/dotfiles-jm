#!/bin/bash

ACTIVE_WINDOW_ID=$(yabai -m query --windows | jq '.[] | select(.["app"] ==' "$1" + ') | { id: .id, opacity: .opacity }')
WINDOW_ID=$(echo "$ACTIVE_WINDOW_ID" | jq '.id')

if [[ $(echo "$ACTIVE_WINDOW" | jq '.opacity') == 1 ]]; then
	yabai -m window "$WINDOW_ID" --opacity 0.8
else
	yabai -m window "$WINDOW_ID" --opacity 1.0
fi
